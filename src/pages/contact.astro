---
import SiteLayout from "../layouts/SiteLayout.astro";
const title = "Contact | Size My Generator";
const desc  = "Get in touch with the Size My Generator team.";
---

<SiteLayout {title} {desc} canonical="https://sizemygenerator.com/contact">
  <section class="page-hero">
    <h1>Contact</h1>
    <p class="lead">
      Questions, feedback, or a bug to report? Send a note—we read everything.
    </p>
  </section>

  <main class="page-main">
    <div class="card">
      <h2>Email</h2>
      <p>
        Prefer your email client? Write us at
        <a href="mailto:bill@atacamahvac.com">bill@atacamahvac.com</a>.
      </p>
      <p class="muted">PA HIC License # PA 073102</p>
    </div>

    <div class="card">
      <h2>Contact form</h2>
      <form
        method="POST"
        action="https://formsubmit.co/bill@atacamahvac.com"
        class="form"
        aria-label="Contact form"
      >
        <label for="name">Name</label>
        <input id="name" name="name" type="text" required autocomplete="name" />

        <label for="email">Email</label>
        <input id="email" name="email" type="email" required autocomplete="email" />

        <label for="topic">Topic</label>
        <select id="topic" name="topic" required>
          <option value="">Select a topic…</option>
          <option value="calculator-question">Calculator question</option>
          <option value="bug-report">Bug report</option>
          <option value="feature-request">Feature request</option>
          <option value="partnership">Partnership / affiliate</option>
          <option value="other">Other</option>
        </select>

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="6" required></textarea>

        <!-- Redirect + options -->
        <input type="hidden" name="_next" value="https://sizemygenerator.com/contact?sent=1" />
        <input type="hidden" name="_subject" value="Size My Generator contact form" />
        <input type="hidden" name="_template" value="table" />

        <!-- Honeypot anti-spam (keep hidden) -->
        <input type="text" name="_honey" tabindex="-1" autocomplete="off" style="display:none" />

        <button type="submit">Send message</button>
        <p class="help">
          Rather email directly?
          <a href="mailto:bill@atacamahvac.com?subject=Size%20My%20Generator%20contact">
            Click here
          </a>.
        </p>
      </form>
    </div>

    <!-- Success / status message via URL param ?sent=1 -->
    <div id="sent" class="notice" hidden role="status" aria-live="polite">
      ✅ Thanks! Your message was sent.
    </div>
  </main>

  <script>
    // Show a success message if redirected back with ?sent=1
    (function () {
      const params = new URLSearchParams(window.location.search);
      if (params.get("sent") === "1") {
        const el = document.getElementById("sent");
        if (el) el.hidden = false;
      }
    })();
  </script>
</SiteLayout>
